<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<link rel="stylesheet" type="text/css" href="layui/css/layui.css" />
	<link rel="stylesheet" type="text/css" href="font-awesome-4.7.0/css/font-awesome.min.css" />
	<link rel="stylesheet" type="text/css" href="css/nav.css" />
	<style type="text/css">
		a {
			color: #108EE9;
			cursor: pointer;
		}
		
		.workzone {
			width: 279px;
			height: 100%;
			background: #fff;
			position: absolute;
			left: 200px;
			border-right: 1px solid #ddd;
		}
		
		.workzone .caption {
			width: 100%;
			height: 40px;
			line-height: 40px;
			font-size: 16px;
			border-bottom: 1px solid #ddd;
		}
		
		.workzone .caption .name {
			display: inline-block;
			margin-left: 10%;
			height: 20px;
			position: absolute;
			top: 10px;
			border-left: 5px solid #108EE9;
		}
		
		.workzone .caption span {
			margin-left: calc(10% + 15px);
		}
		
		.workzone .content {
			padding-left: 10%;
		}
		
		.workzone .content .add {
			margin-top: 20px;
			color: #999;
			text-align: center;
			width: 80%;
			height: 45px;
			line-height: 45px;
			font-size: 15px;
			border-radius: 4px;
			border: 1px dashed #C1C1C1;
			vertical-align: middle;
			cursor: pointer;
		}
		
		.workzone .content .add:hover {
			color: #108ee9;
			border: 1px dashed #108ee9;
		}
		
		.workzone .content .add i {
			font-size: 24px;
			margin-right: 5px;
		}
		
		.workzone .content .add i,
		.workzone .content .add span {
			vertical-align: middle;
		}
		
		.workzone .condition {
			width: 100%;
			padding-left: 10%;
			height: 620px;
			padding: 20px 0;
		}
		
		.content-container {
			width: calc(100% - 480px);
			min-width: 700px;
			height: 100%;
			position: absolute;
			left: 480px;
			background: #fafafa;
			text-align: center;
		}
		.content-container-zoom{
			width: calc(100% - 320px);
			left: 320px;
		}
		.content-container .empty-container {
			width: 265px;
			position: absolute;
			left: calc(50% - 132px);
			top: calc(50% - 135px);
		}
		
		.content-container .empty-container a {
			color: #1890FF;
		}
		
		.content-container .templet {
			width: 94%;
			height: 94%;
			margin: auto;
			margin-top: 3%;
			text-align: left;
			display: none;
		}
		
		.content-container .templet .header {
			height: 40px;
			line-height: 40px;
			font-size: 18px;
		}
		
		.content-container .templet .header .title i {
			font-size: 18px;
			margin-left: 5px;
			cursor: pointer;
			border-bottom: 1px solid rgba(0, 0, 0, .6);
		}
		
		.templet .business-phase {
			height: 80px;
			background: #fff;
			border: 1px solid #ededed;
			border-radius: 4px;
			margin-top: 15px;
			padding: 10px 15px;
		}
		
		.templet .business-phase .title {
			color: #c1c1c1;
			font-size: 14px;
		}
		
		.templet .business-phase .phase {
			height: 40px;
			line-height: 40px;
			margin-top: 10px;
			padding: 5px;
		}
		
		.templet .business-phase .phase #lists li i {
			float: right;
			display: none;
		}
		
		.templet .business-phase .phase #lists li:hover i {
			display: inline-block;
			padding-right: 4px;
		}
		
		.templet .business-phase .phase #lists li {
			float: left;
			margin-right: 10px;
			height: 30px;
			min-width: 60px;
			text-align: center;
			line-height: 30px;
			background: #fff;
			color: #1B94FF;
			border: 1px solid #1B94FF;
			border-radius: 15px;
			font-size: 12px;
			cursor: pointer;
		}
		
		.templet .business-phase .phase #lists li:hover {
			padding-left: 10px;
		}
		
		.templet .business-phase .phase .active {
			background-color: #1B94FF !important;
			color: #fff !important;
		}
		
		.templet .business-phase .phase .add-list {
			float: left;
			width: 20px !important;
			height: 20px !important;
			line-height: 20px;
			border-radius: 15px;
			padding: 5px 5px !important;
			text-align: center;
			background-color: #1B94FF;
			color: #fff;
			cursor: pointer;
		}
		
		.templet .content-phase {
			padding-bottom: 10px;
			width: 100%;
			margin-top: 15px;
			background: #fff;
			border: 1px solid #ededed;
			border-radius: 4px;
		}
		
		.templet .content-phase .title {
			height: 40px;
			padding-left: 15px;
			line-height: 40px;
			color: #c1c1c1;
			font-size: 14px;
			border-bottom: 1px solid #ededed;
			box-sizing: border-box;
		}
		
		.templet .content-phase .content-list {
			padding: 10px 20px;
			margin-top: 15px;
		}
		
		.templet .content-phase .content-list .name {
			margin-right: 16px;
			color: #030303;
		}
		
		.templet .content-phase .content-list input[type=text] {
			width: 220px;
			height: 30px;
			display: inline-block;
		}
		
		.templet .content-phase .content-list .layui-form-radio {
			margin-top: 0;
		}
		
		.templet .content-phase .content-list .layui-form-radio>i {
			font-size: 18px;
			color: #108ee9;
		}
		
		.templet .content-phase .content-list .layui-btn {
			width: 80px;
			height: 28px;
			line-height: 28px;
			background-color: rgba(0, 0, 0, 0);
			border: 1px solid #108ee9;
			color: #108ee9;
			border-color: #108ee9;
			padding: 0;
			font-size: 12px;
			border-radius: 4px;
		}
		
		.templet .content-phase .content-list .nothing {
			text-align: center;
			padding: 20px 0;
			border-bottom: 1px solid #e9e9e9;
			color: rgba(0, 0, 0, 0.43);
		}
		
		.layui-table {
			color: #000;
		}
		
		.templet .btn {
			position: absolute;
			right: 3%;
		}
		
		.templet .btn .layui-btn {
			padding: 0 30px;
			height: 30px;
			line-height: 30px;
		}
		
		.add-font-setting {
			width: 420px;
			height: 260px;
			background: #fff;
			position: absolute;
			top: 20%;
			left: 30%;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
			border-radius: 4px;
			z-index: 999;
			display: none;
		}
		
		.add-font-setting .title {
			height: 30px;
			line-height: 30px;
			text-align: center;
		}
		
		.add-font-setting .title span {
			display: inline-block;
			font-size: 16px;
			margin-top: 10px;
		}
		
		.add-font-setting .title i {
			position: absolute;
			right: 15px;
			top: 5px;
			cursor: pointer;
		}
		
		.add-font-setting .content {
			width: 300px;
			padding: 20px 0 0 0;
			margin: auto;
		}
		
		.add-font-setting .content .content-list {
			margin-bottom: 10px;
			height: 40px;
			line-height: 40px;
		}
		
		.add-font-setting .content .content-list .name {
			margin-right: 16px;
			color: #030303;
			display: inline-block;
			width: 60px;
			text-align-last: justify;
		}
		
		.add-font-setting .content .content-list input[type=text] {
			width: 210px;
			display: inline-block;
			border-radius: 4px;
		}
		
		.add-font-setting .content .content-list .layui-form-select {
			width: 210px;
			display: inline-block;
		}
		
		.add-font-setting .content .content-list .layui-form-radio * {
			font-size: 14px;
		}
		
		.add-font-setting .content .content-list .layui-form-radio {
			margin: 0;
		}
		
		.add-font-setting .content .content-list .layui-form-radio .layui-icon {
			font-size: 18px;
		}
		
		.add-font-setting .footer {
			height: 59px;
			line-height: 59px;
			border-top: 1px solid #ededed;
			text-align: center;
		}
		
		.add-font-setting .footer .layui-form-checkbox[lay-skin=primary] i {
			width: 14px;
			height: 14px;
			font-size: 12px;
		}
		
		.add-font-setting .footer .layui-form-checkbox[lay-skin=primary] span {
			font-size: 12px;
		}
		
		.add-font-setting .footer .layui-btn {
			width: 90px;
			height: 32px;
			line-height: 32px;
		}
		
		tbody .edit {
			margin-right: 15px;
		}

		.header .edit-title {
			display: none;
		}
		
		.header .edit-title input {
			width: 150px;
			height: 30px;
			border-radius: 4px;
			display: inline-block;
			font-size: 14px;
		}
		
		.header .edit-title input[type=button] {
			width: 50px;
			padding: 0;
			height: 30px;
			line-height: 30px;
		}
	</style>

	<body>
		<div class="layui-side layui-bg-black">
			<div class="layui-side-scroll">
				<div class="header-box">
					<div title="菜单缩放" class="kit-side-fold" style="display: inline-block;"><i class="layui-icon layui-icon-shrink-right" aria-hidden="true"></i></div>
				</div>
				<!-- 左侧导航区域（可配合layui已有的垂直导航） -->
				<ul class="layui-nav layui-nav-tree " lay-filter="test" lay-shrink="all">
					<li class="layui-nav-item" title="基础数据">
						<a href="index5.html"><i class="layui-icon layui-icon-home"></i> <span>基础数据</span></a>
					</li>
					<li class="layui-nav-item" title="数据分析">
						<a href="javascript:;"><i class="fa fa-line-chart fa-lg"></i> <span>数据分析</span></a>
						<dl class="layui-nav-child">
							<dd title="点面互查">
								<a href="pointStatistics.html"><i class="fa fa-map fa-lg"></i> <span>点面互查</span></a>
							</dd>
							<dd title="缓冲区分析">
								<a href="bufferarea.html"><i class="fa fa-map-o fa-lg"></i> <span>缓冲区分析</span></a>
							</dd>
							<dd title="高级筛选">
								<a href="global-search.html"><i class="fa fa-filter fa-lg"></i> <span>高级筛选</span></a>
							</dd>
						</dl>
					</li>
					<li class="layui-nav-item" title="智能预警">
						<a href="intelligent-warning.html"><i class="fa fa-exclamation-circle fa-lg"></i> <span>智能预警</span></a>
					</li>
					<li class="layui-nav-item" title="位置监控">
						<a href="javascript:;"><i class="fa fa-map-marker fa-lg"></i> <span>位置监控</span></a>
						<dl class="layui-nav-child">
							<dd title="人员监控">
								<a href="personnel-monitoring.html"><i class="fa fa-window-restore fa-lg"></i> <span>人员监控</span></a>
							</dd>
							<dd title="车辆监控">
								<a href="car.html"><i class="fa fa-car fa-lg"></i> <span>车辆监控</span></a>
							</dd>
						</dl>
					</li>
					<li class="layui-nav-item" title="路线规划">
						<a href="routing.html"><i class="fa fa-random fa-lg"></i> <span>路线规划</span></a>
					</li>
					<li class="layui-nav-item" title="智能分单">
						<a href="javascript:;"><i class="layui-icon layui-icon-templeate-1"></i> <span>智能分单</span></a>
						<dl class="layui-nav-child">
							<dd title="单条分单">
								<a href="fendansingle.html"><i class="fa fa-file-text fa-lg"></i> <span>单条分单</span></a>
							</dd>
							<dd title="批量分单">
								<a href="fendanbatch.html"><i class="fa fa-clipboard fa-lg"></i> <span>批量分单</span></a>
							</dd>
							<dd title="订单状态统计">
								<a href="status-statistics.html"><i class="fa fa-th-large fa-lg"></i> <span>订单状态统计</span></a>
							</dd>
							<dd title="按图层订单统计">
								<a href="orderstats-layer.html"><i class="fa fa-object-group fa-lg"></i> <span>按图层订单统计</span></a>
							</dd>
							<dd title="全部订单统计">
								<a href="orderstats.html"><i class="fa fa-list-alt fa-lg"></i> <span>全部订单统计</span></a>
							</dd>
						</dl>
					</li>
					<li class="layui-nav-item" title="分享链接">
						<a href="shareMap.html"><i class="layui-icon layui-icon-share"></i> <span>分享链接</span></a>
					</li>
					<li class="layui-nav-item layui-this" title="业务流">
						<a href="javascript:;"><i class="layui-icon layui-icon-senior"></i> <span>业务流</span></a>
					</li>
					<li class="layui-nav-item" title="操作日志">
						<a href="logs.html"><i class="layui-icon layui-icon-form"></i> <span>操作日志</span></a>
					</li>
					<li class="layui-nav-item" title="协作/权限">
						<a href="javascript:;"><i class="layui-icon layui-icon-user"></i> <span>协作/权限</span></a>
						<dl class="layui-nav-child">
							<dd title="协作成员">
								<a href="cooperation-personnel.html"><i class="fa fa-users fa-lg"></i><span>协作成员</span></a>
							</dd>
							<dd title="监控人员">
								<a href="monitoring-members.html"><i class="fa fa-user-circle fa-lg"></i><span>监控人员</span></a>
							</dd>
						</dl>
					</li>
				</ul>
				<div class="Bottom">
					<div class="MapList">
						<div class="btn">
							<img src="img/side-bar-icon9.png"/>
							<span>智能预警智能预警智能预警智能预警智能预警智能预警</span>
						</div>
						<i class="layui-icon layui-icon-down"></i>
					</div>
					<hr />
					<div class="User">
						<img src="img/banner.png" /><span>用户名</span>
					</div>
				</div>
			</div>
		</div>
		<div class="List">
			<div class="header">
				<span>地图列表</span>
				<i class="layui-icon layui-icon-add-1" title="创建地图"></i>
			</div>
			<div class="content">
				<li title="温州管网图定位">
					<div class="img"><img src="img/getFile.png" /></div>
					<div class="list-name">
						<p>温州管网图定位<i class="layui-icon layui-icon-rate-solid"></i></p>
						<div class="list-text">
							<span class="me"><i class="layui-icon layui-icon-username"></i> LIAOSIJUN</span>
							<span class="time"><i class="layui-icon layui-icon-log"></i> 2018-08-31</span>
						</div>
					</div>
				</li>
				<li>
					<div class="img"><img src="img/getFile.png" /></div>
					<div class="list-name">
						<p class="default-list-p">龙湾产品发布图<i class="layui-icon layui-icon-rate-solid default-list-i"></i></p>
						<div class="list-text">
							<span class="me"><i class="layui-icon layui-icon-username"></i> LIAOSIJUN</span>
							<span class="time"><i class="layui-icon layui-icon-log"></i> 2018-08-31</span>
						</div>
					</div>
				</li>
				<li>
					<div class="img"><img src="img/getFile.png" /></div>
					<div class="list-name">
						<p>杭州城北机械表<i class="layui-icon layui-icon-rate-solid"></i></p>
						<div class="list-text">
							<span class="me"><i class="layui-icon layui-icon-username"></i> LIAOSIJUN</span>
							<span class="time"><i class="layui-icon layui-icon-log"></i> 2018-08-31</span>
						</div>
					</div>
				</li>
				<li>
					<div class="img"><img src="img/getFile.png" /></div>
					<div class="list-name">
						<p>温州管网图定位<i class="layui-icon layui-icon-rate-solid"></i></p>
						<div class="list-text">
							<span class="me"><i class="layui-icon layui-icon-username"></i> LIAOSIJUN</span>
							<span class="time"><i class="layui-icon layui-icon-log"></i> 2018-08-31</span>
						</div>
					</div>
				</li>
				<li>
					<div class="img"><img src="img/getFile.png" /></div>
					<div class="list-name">
						<p>温州管网图定位<i class="layui-icon layui-icon-rate-solid"></i></p>
						<div class="list-text">
							<span class="me"><i class="layui-icon layui-icon-username"></i> LIAOSIJUN</span>
							<span class="time"><i class="layui-icon layui-icon-log"></i> 2018-08-31</span>
						</div>
					</div>
				</li>
			</div>
			<div class="footer">
				<div class="box">
					<div class="establish">
						<a>删除地图</a>
					</div>
					<div class="default">
						<a>设置默认地图</a>
					</div>
				</div>
			</div>
		</div>
		<div class="user-content">
			<li><i class="layui-icon layui-icon-return"></i>进入企业后台</li>
			<li><i class="layui-icon layui-icon-username"></i>个人中心</li>
			<li><i class="layui-icon layui-icon-star"></i>我的地图</li>
			<li>
				<p><i class="layui-icon layui-icon-help"></i>帮助</p>
				<p><i class="layui-icon layui-icon-refresh-3"></i>更新</p>
				<p><i class="layui-icon layui-icon-reply-fill"></i>反馈</p>
				<p><i class="layui-icon layui-icon-file-b"></i>案例</p>
			</li>
			<li><i class="layui-icon layui-icon-unlink"></i>退出登录</li>
		</div>
		<div class="workzone">
			<div class="caption">
				<div class="name"></div><span>业务流模板</span>
			</div>
			<div class="content">
				<div class="add" onclick="establish()">
					<i class="layui-icon layui-icon-add-circle"></i><span>添加业务模板</span>
				</div>
			</div>
			<div class="condition">

			</div>
		</div>
		<div class="content-container">
			<div class="empty-container">
				<p>尚无模板，请点击
					<a onclick="establish()">创建</a>
				</p>
				<img src="img/not-template.png" />
			</div>
			<div class="templet">
				<div class="btn">
					<input type="button" name="" id="" value="取消" class="layui-btn layui-btn-danger layui-btn-radius" onclick="cancel()" />
					<input type="button" name="" id="" value="保存" class="layui-btn layui-btn-normal layui-btn-radius" />
				</div>
				<div class="header">
					<div class="title">
						<span class="name" id="content-name">模板1</span><i class="layui-icon layui-icon-edit" onclick="changeContent()"></i>
					</div>
					<div class="edit-title">
						<input type="text" id="edit-name" class="layui-input" />
						<input type="button" value="确定" class="layui-btn layui-btn-normal" onclick="confirmName()" />
					</div>
				</div>
				<div class="business-phase">
					<p class="title">业务阶段</p>
					<div class="phase">
						<div id="lists">
							<li class="list active">阶段1 <i class="layui-icon layui-icon-close-fill"></i></li>
						</div>
						<li class="add-list"><i class="layui-icon layui-icon-add-1"></i></li>
					</div>
				</div>
				<div class="content-phase ">
					<p class="title">阶段内容</p>
					<div class="content-list">
						<span class="name">阶段名称</span>
						<input type="text" name="" id="" value="阶段1" placeholder="请输入阶段名称" class="layui-input" />
					</div>
					<div class="content-list layui-form">
						<span class="name">流转方式</span><input type="radio" name="mode" value="审核流转" title="审核流转" checked><input type="radio" name="mode" value="自动流转" title="自动流转"><input type="radio" name="mode" value="审核流转" title="审核流转（指定阶段）"><input type="radio" name="mode" value="指定阶段" title="指定阶段">
					</div>
					<div class="content-list">
						<span class="name">字体设置</span>
						<input type="button" class="layui-btn" name="" id="" value="添加字体" onclick="addfont()" />
					</div>
					<div class="content-list">
						<table class="layui-table">
							<colgroup>
								<col width="250">
								<col width="400">
								<col width="400">
								<col width="400">
							</colgroup>
							<thead>
								<tr style="text-align: center;">
									<th>序号</th>
									<th>字段名称</th>
									<th>字段类型</th>
									<th>操作</th>
								</tr>
							</thead>
							<tbody>

							</tbody>
						</table>
						<div class="nothing">
							<i class="layui-icon layui-icon-face-cry"></i> 暂无数据
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="mask"></div>
		<div class="add-font-setting">
			<div class="title">
				<span>创建字段</span>
				<i class="layui-icon layui-icon-close" title="关闭" onclick="rfont()"></i>
			</div>
			<div class="content layui-form">
				<div class="content-list">
					<span class="name">名称</span>
					<input type="text" id="name" placeholder="请输入字段名称" class="layui-input" />
				</div>
				<div class="content-list">
					<span class="name">类型</span>
					<select id="city" lay-verify="required">
						<option value="文本型">文本型</option>
						<option value="数值型">数值型</option>
						<option value="日期型">日期型</option>
						<option value="日期+时间型">日期+时间型</option>
						<option value="4链接型">链接型</option>
						<option value="电话型">电话型</option>
						<option value="下拉型">下拉型</option>
						<option value="多选型">多选型</option>
						<option value="ID">ID</option>
						<option value="地址型">地址型</option>
					</select>
				</div>
				<div class="content-list">
					<span class="name">流转方式</span>
					<input type="radio" name="mode" value="审核流转" title="审核流转" checked>
					<input type="radio" name="mode" value="自动流转" title="自动流转">
				</div>
			</div>
			<div class="footer layui-form">
				<input type="checkbox" name="" title="添加后保留窗口，连续添加" lay-skin="primary">
				<input type="button" id="" value="确定" class="layui-btn layui-btn-normal" />
			</div>
		</div>

	</body>
	<script src="js/jquery.js" type="text/javascript" charset="utf-8"></script>
	<script src="layui/layui.all.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/nav.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		var form = layui.form,
			layer = layui.layer;
		// 监听
		var value = "文本型";
		var name = "";
		var n = 1;
		$(document).ready(function() {
			// select下拉框选中触发事件
			form.on("select", function(data) {
				value = data.value // 获取选中的值
			});
		});
		$(".business-phase .phase .add-list").click(function() {
			if(n < 10) {
				n++;
				$(".business-phase .phase #lists").append('<li class="list">阶段' + n + ' <i class="layui-icon layui-icon-close-fill"></i></li>');
			} else {
				alert("业务阶段不能超过10个")
			}

		})
		$(".business-phase .phase #lists").on('click', 'i', function() {
			if($(".business-phase .phase #lists li").length == 1) {
				alert("不能少于一个阶段")
			} else {
				$(this).parent().remove();
				n--;
			}

		});
		$(".business-phase .phase #lists").on('click', 'li', function() {
			$(this).siblings().removeClass("active");
			$(this).addClass("active")

		});

		$(".footer .layui-btn").click(function() {
			name = $(".content-list #name").val();
			var tr = '<tr>' +
				' <td>' + n + '</td>' +
				' <td>' + name + '</td>' +
				' <td>' + value + '</td>' +
				'<td><a class="edit">编辑</a><a class="delete">删除</a></td>' +
				'</tr>'
			if(name == "") {
				alert("名称不能为空");
			} else {
				$(".content-list tbody").append(tr);
				n++;
			}
			$(".content-list #name").val("");
			if($(".footer input[type='checkbox']").is(':checked')) {

			} else if(name == "") {

			} else {
				rfont();
			}
			a();
		});
		$("tbody").on('click', '.delete', function() {
			$(this).parents('tr').remove();
			a();
		});

		function changeContent() {
			$(".header .title").hide();
			$(".header .edit-title").show();
			$(".header .edit-title input[type=text]").val($(".header .title span").text())
		}

		function confirmName() {
			$(".header .title").show();
			$(".header .edit-title").hide();
			$(".header .title span").text($(".header .edit-title input[type=text]").val())
		}

		function a() {
			if($("tbody").find("tr").length == 0) {
				$(".nothing").css("display", "block");
			} else {
				$(".nothing").css("display", "none");
			}
		}

		function establish() {
			$(".templet").css("display", "block");
			$(".empty-container").css("display", "none");
		}

		function cancel() {
			$(".templet").css("display", "none");
			$(".empty-container").css("display", "block");
		}

		function addfont() {
			$(".mask").fadeIn(100);
			$(".add-font-setting").fadeIn(800)
		}

		function rfont() {
			$(".mask").css("display", "none");
			$(".add-font-setting").css("display", "none");
		}
	</script>

</html>