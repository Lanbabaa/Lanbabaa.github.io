
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>第八次作业</title>
		<style type="text/css">
			body{
				min-height: 1000px;
			}
			#abc{
				width: 500px;
				position: absolute;
				left: 100px;
				top: 100px;
				overflow: hidden;
				/*
				 绝对定位的基准：最近的已经定位过的祖先元素
				 * */
			}
			img{
				width: 100%;
			}
			#son{
				width: 200px;
				height: 200px;
				border-radius: 100px;
				position: absolute;
				background-image: url(img/FE.jpg);
				pointer-events: none;
				transform: translate(-50%,-50%) ;
				opacity: 0;
				transition: opacity .4s;
			}
			#abc #son{
				display: none;
			}
			#abc:hover #son{
				display: block;
				opacity: 1;
			}
		</style>
	</head>
	<body>
		<div id="abc">
			<img src="img/FE.jpg"/>
			<div id="son"></div>
		</div>
		<script type="text/javascript">
			var oAbc=document.getElementById("abc");
			var oSon=document.getElementById("son");
			var oImg=oAbc.querySelector('img');
			var ratio;
			oImg.addEventListener("load",function(event){
				ratio = oImg.naturalWidth/oImg.width;
				oSon.style.backgroundImage = 'url(' + oImg.src + ')';
			});
			oAbc.addEventListener("mousemove",function(event){
				var x=event.offsetX||event.layerX;
				var y=event.offsetY||event.layerY;
				oSon.style.left=x+"px";
				oSon.style.top=y+"px";
				oSon.style.backgroundPosition=(-ratio*x+100)+"px "+(-ratio*y+100)+"px";
			});
		</script>
	</body>
</html>
